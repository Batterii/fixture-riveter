"use strict";(self.webpackChunkfixture_riveter=self.webpackChunkfixture_riveter||[]).push([[307],{8177:(e,t,a)=>{a.r(t),a.d(t,{data:()=>r});const r={key:"v-b6723dd6",path:"/guide/hooks.html",title:"Hooks",lang:"en-US",frontmatter:{},excerpt:"",headers:[{level:2,title:"Defaults",slug:"defaults",children:[]}],filePathRelative:"guide/hooks.md"}},6341:(e,t,a)=>{a.r(t),a.d(t,{default:()=>H});var r=a(6252);const o=(0,r._)("h1",{id:"hooks",tabindex:"-1"},[(0,r._)("a",{class:"header-anchor",href:"#hooks","aria-hidden":"true"},"#"),(0,r.Uk)(" Hooks")],-1),n=(0,r.Uk)("In the process of constructing an object from a fixture, it can be necessary (or at least helpful) to run arbitrary code with the constructed object before it is returned: generating passwords, defining relationships, populating a cache, etc. This process is called "),i={href:"https://en.wikipedia.org/wiki/Hooking",target:"_blank",rel:"noopener noreferrer"},l=(0,r.Uk)("hooking"),s=(0,r.Uk)(" on Wikipedia; "),c={href:"https://github.com/thoughtbot/factory_bot",target:"_blank",rel:"noopener noreferrer"},d=(0,r.Uk)("factory_bot"),u=(0,r.Uk)(' calls them "'),h={href:"https://github.com/thoughtbot/factory_bot/blob/master/GETTING_STARTED.md#callbacks",target:"_blank",rel:"noopener noreferrer"},f=(0,r.Uk)("callbacks"),k=(0,r.Uk)('".'),b=(0,r.Uk)("In simplest terms, a hook is an object that holds string name and a 2-argument function. When a "),g=(0,r.Uk)("Strategy"),p=(0,r.Uk)(" calls "),m=(0,r._)("code",null,'runHooks("X", instance)',-1),_=(0,r.Uk)(", all of the hooks that are named "),U=(0,r._)("code",null,'"X"',-1),y=(0,r.Uk)(" are gathered (following the "),w=(0,r.Uk)("scoping"),x=(0,r.Uk)(" rules) and then, in the order they're defined, their functions are executed on the current "),v=(0,r.Uk)("instance"),W=(0,r.Uk)("."),q=(0,r.uE)('<h2 id="defaults" tabindex="-1"><a class="header-anchor" href="#defaults" aria-hidden="true">#</a> Defaults</h2><p>By default, there are 3 hooks:</p><ul><li><code>after(&quot;build&quot;, ...)</code> is called after the fixture instance has been built (in <code>fr.build</code> and <code>fr.create</code>)</li><li><code>before(&quot;create&quot;, ...)</code> is called before the fixture instance is saved (in <code>fr.create</code>)</li><li><code>after(&quot;create&quot;, ...)</code> is called after the fixture instance is saved (in <code>fr.create</code>)</li></ul>',3),H={render:function(e,t){const a=(0,r.up)("OutboundLink"),H=(0,r.up)("RouterLink");return(0,r.wg)(),(0,r.iD)(r.HY,null,[o,(0,r._)("p",null,[n,(0,r._)("a",i,[l,(0,r.Wm)(a)]),s,(0,r._)("a",c,[d,(0,r.Wm)(a)]),u,(0,r._)("a",h,[f,(0,r.Wm)(a)]),k]),(0,r._)("p",null,[b,(0,r.Wm)(H,{to:"/api/strategy.html"},{default:(0,r.w5)((()=>[g])),_:1}),p,m,_,U,y,(0,r.Wm)(H,{to:"/guide/glossary.html#scope"},{default:(0,r.w5)((()=>[w])),_:1}),x,(0,r.Wm)(H,{to:"/guide/glossary.html#instance"},{default:(0,r.w5)((()=>[v])),_:1}),W]),q],64)}}}}]);